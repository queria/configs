_openstack()
{
  local cur prev words
  COMPREPLY=()
  _get_comp_words_by_ref -n : cur prev words

  # Command data:
  cmds='aggregate availability backup catalog command complete compute console container ec2 endpoint extension flavor help host hypervisor image ip keypair limits module network object project quota role security server service snapshot token usage user volume'
  cmds_aggregate='add create delete list remove set show'
  cmds_aggregate_add='host'
  cmds_aggregate_add_host='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_aggregate_create='-h --help -f --format -c --column --max-width --variable --prefix --zone --property'
  cmds_aggregate_delete='-h --help'
  cmds_aggregate_list='-h --help -f --format -c --column --max-width --quote --long'
  cmds_aggregate_remove='host'
  cmds_aggregate_remove_host='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_aggregate_set='-h --help -f --format -c --column --max-width --variable --prefix --name --zone --property'
  cmds_aggregate_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_availability='zone'
  cmds_availability_zone='list'
  cmds_availability_zone_list='-h --help -f --format -c --column --max-width --quote --long'
  cmds_backup='create delete list restore show'
  cmds_backup_create='-h --help -f --format -c --column --max-width --variable --prefix --container --name --description'
  cmds_backup_delete='-h --help'
  cmds_backup_list='-h --help -f --format -c --column --max-width --quote --long'
  cmds_backup_restore='-h --help'
  cmds_backup_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_catalog='list show'
  cmds_catalog_list='-h --help -f --format -c --column --max-width --quote'
  cmds_catalog_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_command='list'
  cmds_command_list='-h --help -f --format -c --column --max-width --quote'
  cmds_complete='-h --help --name --shell'
  cmds_compute='agent service'
  cmds_compute_agent='create delete list set'
  cmds_compute_agent_create='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_compute_agent_delete='-h --help'
  cmds_compute_agent_list='-h --help -f --format -c --column --max-width --quote --hypervisor'
  cmds_compute_agent_set='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_compute_service='list set'
  cmds_compute_service_list='-h --help -f --format -c --column --max-width --quote --host --service'
  cmds_compute_service_set='-h --help -f --format -c --column --max-width --quote --enable --disable'
  cmds_console='log url'
  cmds_console_log='show'
  cmds_console_log_show='-h --help --lines'
  cmds_console_url='show'
  cmds_console_url_show='-h --help -f --format -c --column --max-width --variable --prefix --novnc --xvpvnc --spice'
  cmds_container='create delete list save show'
  cmds_container_create='-h --help -f --format -c --column --max-width --quote'
  cmds_container_delete='-h --help'
  cmds_container_list='-h --help -f --format -c --column --max-width --quote --prefix --marker --end-marker --limit --long --all'
  cmds_container_save='-h --help'
  cmds_container_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_ec2='credentials'
  cmds_ec2_credentials='create delete list show'
  cmds_ec2_credentials_create='-h --help -f --format -c --column --max-width --variable --prefix --project --user'
  cmds_ec2_credentials_delete='-h --help --user'
  cmds_ec2_credentials_list='-h --help -f --format -c --column --max-width --quote --user'
  cmds_ec2_credentials_show='-h --help -f --format -c --column --max-width --variable --prefix --user'
  cmds_endpoint='create delete list show'
  cmds_endpoint_create='-h --help -f --format -c --column --max-width --variable --prefix --publicurl --adminurl --internalurl --region'
  cmds_endpoint_delete='-h --help'
  cmds_endpoint_list='-h --help -f --format -c --column --max-width --quote --long'
  cmds_endpoint_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_extension='list'
  cmds_extension_list='-h --help -f --format -c --column --max-width --quote --compute --identity --network --volume --long'
  cmds_flavor='create delete list set show unset'
  cmds_flavor_create='-h --help -f --format -c --column --max-width --variable --prefix --id --ram --disk --ephemeral --swap --vcpus --rxtx-factor --public --private'
  cmds_flavor_delete='-h --help'
  cmds_flavor_list='-h --help -f --format -c --column --max-width --quote --public --private --all --long'
  cmds_flavor_set='-h --help -f --format -c --column --max-width --variable --prefix --property'
  cmds_flavor_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_flavor_unset='-h --help -f --format -c --column --max-width --variable --prefix --property'
  cmds_help='-h --help'
  cmds_host='list show'
  cmds_host_list='-h --help -f --format -c --column --max-width --quote --zone'
  cmds_host_show='-h --help -f --format -c --column --max-width --quote'
  cmds_hypervisor='list show stats'
  cmds_hypervisor_list='-h --help -f --format -c --column --max-width --quote --matching'
  cmds_hypervisor_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_hypervisor_stats='show'
  cmds_hypervisor_stats_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_image='create delete list save set show'
  cmds_image_create='-h --help -f --format -c --column --max-width --variable --prefix --id --store --container-format --disk-format --owner --size --min-disk --min-ram --location --copy-from --file --volume --force --checksum --protected --unprotected --public --private --property'
  cmds_image_delete='-h --help'
  cmds_image_list='-h --help -f --format -c --column --max-width --quote --public --private --shared --property --long --page-size --sort'
  cmds_image_save='-h --help --file'
  cmds_image_set='-h --help -f --format -c --column --max-width --variable --prefix --name --owner --min-disk --min-ram --protected --unprotected --public --private --property'
  cmds_image_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_ip='fixed floating'
  cmds_ip_fixed='add remove'
  cmds_ip_fixed_add='-h --help'
  cmds_ip_fixed_remove='-h --help'
  cmds_ip_floating='add create delete list pool remove'
  cmds_ip_floating_add='-h --help'
  cmds_ip_floating_create='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_ip_floating_delete='-h --help'
  cmds_ip_floating_list='-h --help -f --format -c --column --max-width --quote'
  cmds_ip_floating_pool='list'
  cmds_ip_floating_pool_list='-h --help -f --format -c --column --max-width --quote'
  cmds_ip_floating_remove='-h --help'
  cmds_keypair='create delete list show'
  cmds_keypair_create='-h --help -f --format -c --column --max-width --variable --prefix --public-key'
  cmds_keypair_delete='-h --help'
  cmds_keypair_list='-h --help -f --format -c --column --max-width --quote'
  cmds_keypair_show='-h --help -f --format -c --column --max-width --variable --prefix --public-key'
  cmds_limits='show'
  cmds_limits_show='-h --help -f --format -c --column --max-width --quote --absolute --rate --reserved'
  cmds_module='list'
  cmds_module_list='-h --help -f --format -c --column --max-width --variable --prefix --all'
  cmds_network='create delete list set show'
  cmds_network_create='-h --help -f --format -c --column --max-width --variable --prefix --enable --disable --share --no-share'
  cmds_network_delete='-h --help'
  cmds_network_list='-h --help -f --format -c --column --max-width --quote --external --dhcp --long'
  cmds_network_set='-h --help --name --enable --disable --share --no-share'
  cmds_network_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_object='create delete list save show'
  cmds_object_create='-h --help -f --format -c --column --max-width --quote'
  cmds_object_delete='-h --help'
  cmds_object_list='-h --help -f --format -c --column --max-width --quote --prefix --delimiter --marker --end-marker --limit --long --all'
  cmds_object_save='-h --help --file'
  cmds_object_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_project='create delete list set show usage'
  cmds_project_create='-h --help -f --format -c --column --max-width --variable --prefix --description --enable --disable --property --or-show'
  cmds_project_delete='-h --help'
  cmds_project_list='-h --help -f --format -c --column --max-width --quote --long'
  cmds_project_set='-h --help --name --description --enable --disable --property'
  cmds_project_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_project_usage='list'
  cmds_project_usage_list='-h --help -f --format -c --column --max-width --quote --start --end'
  cmds_quota='set show'
  cmds_quota_set='-h --help --class --properties --ram --secgroup-rules --instances --key-pairs --fixed-ips --secgroups --injected-file-size --floating-ips --injected-files --cores --injected-path-size --gigabytes --volumes --snapshots'
  cmds_quota_show='-h --help -f --format -c --column --max-width --variable --prefix --class --default'
  cmds_role='add create delete list remove show'
  cmds_role_add='-h --help -f --format -c --column --max-width --variable --prefix --project --user'
  cmds_role_create='-h --help -f --format -c --column --max-width --variable --prefix --or-show'
  cmds_role_delete='-h --help'
  cmds_role_list='-h --help -f --format -c --column --max-width --quote --project --user'
  cmds_role_remove='-h --help --project --user'
  cmds_role_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_security='group'
  cmds_security_group='create delete list rule set show'
  cmds_security_group_create='-h --help -f --format -c --column --max-width --variable --prefix --description'
  cmds_security_group_delete='-h --help'
  cmds_security_group_list='-h --help -f --format -c --column --max-width --quote --all-projects'
  cmds_security_group_rule='create delete list'
  cmds_security_group_rule_create='-h --help -f --format -c --column --max-width --variable --prefix --proto --src-ip --dst-port'
  cmds_security_group_rule_delete='-h --help --proto --src-ip --dst-port'
  cmds_security_group_rule_list='-h --help -f --format -c --column --max-width --quote'
  cmds_security_group_set='-h --help -f --format -c --column --max-width --variable --prefix --name --description'
  cmds_security_group_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_server='add create delete image list lock migrate pause reboot rebuild remove rescue resize resume set show ssh suspend unlock unpause unrescue unset'
  cmds_server_add='security volume'
  cmds_server_add_security='group'
  cmds_server_add_security_group='-h --help'
  cmds_server_add_volume='-h --help --device'
  cmds_server_create='-h --help -f --format -c --column --max-width --variable --prefix --image --volume --flavor --security-group --key-name --property --file --user-data --availability-zone --block-device-mapping --nic --hint --config-drive --min --max --wait'
  cmds_server_delete='-h --help'
  cmds_server_image='create'
  cmds_server_image_create='-h --help -f --format -c --column --max-width --variable --prefix --name --wait'
  cmds_server_list='-h --help -f --format -c --column --max-width --quote --reservation-id --ip --ip6 --name --instance-name --status --flavor --image --host --all-projects --long'
  cmds_server_lock='-h --help'
  cmds_server_migrate='-h --help --live --shared-migration --block-migration --disk-overcommit --no-disk-overcommit --wait'
  cmds_server_pause='-h --help'
  cmds_server_reboot='-h --help --hard --soft --wait'
  cmds_server_rebuild='-h --help -f --format -c --column --max-width --variable --prefix --image --password --wait'
  cmds_server_remove='security volume'
  cmds_server_remove_security='group'
  cmds_server_remove_security_group='-h --help'
  cmds_server_remove_volume='-h --help'
  cmds_server_rescue='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_server_resize='-h --help --flavor --confirm --revert --wait'
  cmds_server_resume='-h --help'
  cmds_server_set='-h --help --name --root-password --property'
  cmds_server_show='-h --help -f --format -c --column --max-width --variable --prefix --diagnostics'
  cmds_server_ssh='-h --help --login -l --port -p --identity -i --option -o -4 -6 --public --private --address-type -v'
  cmds_server_suspend='-h --help'
  cmds_server_unlock='-h --help'
  cmds_server_unpause='-h --help'
  cmds_server_unrescue='-h --help'
  cmds_server_unset='-h --help --property'
  cmds_service='create delete list show'
  cmds_service_create='-h --help -f --format -c --column --max-width --variable --prefix --type --name --description'
  cmds_service_delete='-h --help'
  cmds_service_list='-h --help -f --format -c --column --max-width --quote --long'
  cmds_service_show='-h --help -f --format -c --column --max-width --variable --prefix --catalog'
  cmds_snapshot='create delete list set show unset'
  cmds_snapshot_create='-h --help -f --format -c --column --max-width --variable --prefix --name --description --force'
  cmds_snapshot_delete='-h --help'
  cmds_snapshot_list='-h --help -f --format -c --column --max-width --quote --long'
  cmds_snapshot_set='-h --help --name --description --property'
  cmds_snapshot_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_snapshot_unset='-h --help --property'
  cmds_token='issue revoke'
  cmds_token_issue='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_token_revoke='-h --help'
  cmds_usage='list show'
  cmds_usage_list='-h --help -f --format -c --column --max-width --quote --start --end'
  cmds_usage_show='-h --help -f --format -c --column --max-width --variable --prefix --project --start --end'
  cmds_user='create delete list role set show'
  cmds_user_create='-h --help -f --format -c --column --max-width --variable --prefix --project --password --password-prompt --email --enable --disable --or-show'
  cmds_user_delete='-h --help'
  cmds_user_list='-h --help -f --format -c --column --max-width --quote --project --long'
  cmds_user_role='list'
  cmds_user_role_list='-h --help -f --format -c --column --max-width --quote --project'
  cmds_user_set='-h --help --name --project --password --password-prompt --email --enable --disable'
  cmds_user_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_volume='create delete list set show type unset'
  cmds_volume_create='-h --help -f --format -c --column --max-width --variable --prefix --size --snapshot --snapshot-id --description --type --user --project --availability-zone --image --source --property'
  cmds_volume_delete='-h --help --force'
  cmds_volume_list='-h --help -f --format -c --column --max-width --quote --status --name --all-projects --long'
  cmds_volume_set='-h --help --name --description --size --property'
  cmds_volume_show='-h --help -f --format -c --column --max-width --variable --prefix'
  cmds_volume_type='create delete list set unset'
  cmds_volume_type_create='-h --help -f --format -c --column --max-width --variable --prefix --property'
  cmds_volume_type_delete='-h --help'
  cmds_volume_type_list='-h --help -f --format -c --column --max-width --quote --long'
  cmds_volume_type_set='-h --help --property'
  cmds_volume_type_unset='-h --help --property'
  cmds_volume_unset='-h --help --property'

  cmd=""
  words[0]=""
  completed="${cmds}"
  for var in "${words[@]:1}"
  do
    if [[ ${var} == -* ]] ; then
      break
    fi
    if [ -z "${cmd}" ] ; then
      proposed="${var}"
    else
      proposed="${cmd}_${var}"
    fi
    local i="cmds_${proposed}"
    local comp="${(P)i}"
    if [ -z "${comp}" ] ; then
      break
    fi
    if [[ ${comp} == -* ]] ; then
      if [[ ${cur} != -* ]] ; then
        completed=""
        break
      fi
    fi
    cmd="${proposed}"
    completed="${comp}"
  done

  if [ -z "${completed}" ] ; then
    COMPREPLY=( $( compgen -f -- "$cur" ) $( compgen -d -- "$cur" ) )
  else
    COMPREPLY=( $(compgen -W "${completed}" -- ${cur}) )
  fi
  return 0
}
complete -F _openstack openstack
